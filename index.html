</title>
  <script src="https://js.pusher.com"></script>
  <style>
    #chat-box { height: 300px; border: 1px solid #ccc; overflow-y: scroll; margin-bottom: 10px; padding: 10px; }
    .msg { margin-bottom: 5px; }
  </style>
</head>
<body>
  <div id="chat-box"></div>
  <input type="text" id="username" placeholder="Your Name">
  <input type="text" id="message" placeholder="Type a message...">
  <button onclick="sendMessage()">Send</button>

  <script>
    // Replace with your actual Pusher credentials
    const pusher = new Pusher('YOUR_APP_KEY', { cluster: 'YOUR_CLUSTER' });
    const channel = pusher.subscribe('group-chat');

    // Listen for new messages
    channel.bind('new-message', function(data) {
      const chatBox = document.getElementById('chat-box');
      chatBox.innerHTML += `<div class="msg"><b>${data.username}:</b> ${data.text}</div>`;
      chatBox.scrollTop = chatBox.scrollHeight;
    });

    async function sendMessage() {
      const username = document.getElementById('username').value || 'Anonymous';
      const text = document.getElementById('message').value;
      if (!text) return;

      // Note: In a real app, you'd trigger this via a small backend function 
      // or a serverless function (like GitHub Actions or Netlify Functions).
      console.log("Message sent:", { username, text });
      document.getElementById('message').value = '';
    }
  </script>
</body>
</html>
